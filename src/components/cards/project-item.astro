---
import FormattedDate from "@components/misc/formatted-date.astro";
import { ImageLoader } from "@components/misc";

const { title, date, slug, image } = Astro.props;
---

<a href={`/projects/${slug}`} class="block">
	<article class='flex flex-row items-center justify-between w-full p-4 rounded-lg transition-all duration-300 hover:bg-gray-50 dark:hover:bg-gray-800/30 border border-gray-100 dark:border-gray-800 hover:border-gray-200 dark:hover:border-gray-700 hover:shadow-sm'>
		<div class='flex flex-row items-center gap-4'>
			{image && (
				<div class='relative w-16 aspect-square overflow-hidden rounded-xl bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 flex-shrink-0 shadow-sm group-hover:shadow-md transition-all duration-300'>
					<div class="absolute inset-0 bg-gradient-to-br from-gray-900/10 to-transparent dark:from-white/10 z-10"></div>
					<ImageLoader 
						src={image} 
						alt={title} 
						width={128} 
						height={128} 
						class="absolute inset-0 w-full h-full object-cover object-center transform transition-transform duration-500 group-hover:scale-110" 
					/>
				</div>
			)}
			<div class="flex flex-col">
				<h3 class='text-lg font-medium text-gray-900 dark:text-white'>{title}</h3>
				<p class='text-sm text-gray-500 dark:text-gray-400 mt-1'>
					<FormattedDate date={date} />
				</p>
			</div>
		</div>
		<div class="flex-shrink-0 ml-4">
			<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-400 dark:text-gray-500">
				<path d="m9 18 6-6-6-6"/>
			</svg>
		</div>
	</article>
</a>
