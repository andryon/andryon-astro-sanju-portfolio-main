import ThemeToggle from '../components/ThemeToggle.astro';

<html lang="en">
  <head>
    <script is:inline>
      // Immediately inject initial theme to prevent flash
      const theme = (() => {
        if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {
          return localStorage.getItem('theme');
        }
        if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
          return 'dark';
        }
        return 'light';
      })();
      document.documentElement.classList.add(theme);
    </script>
  </head>
  <body>
    <nav>
      <ThemeToggle />
    </nav>
    <slot />
  </body>
</html> 